<link rel="stylesheet" href="style.css">

# 「おばけキッチン」　ポートフォリオ
## 河原電子ビジネス専門学校　ゲームクリエイター科 27卒
## 氏名：下岡 南

![alt text](title-2.png)
---

### 目次
- [「おばけキッチン」　ポートフォリオ](#おばけキッチンポートフォリオ)
	- [河原電子ビジネス専門学校　ゲームクリエイター科 27卒](#河原電子ビジネス専門学校ゲームクリエイター科-27卒)
	- [氏名：下岡 南](#氏名下岡-南)
	- [](#)
		- [目次](#目次)
- [1.作品概要](#1作品概要)
- [2.ゲーム内容](#2ゲーム内容)
	- [3.操作説明](#3操作説明)
	- [](#-1)
	- [4.実装したもの](#4実装したもの)
		- [クラスの設計](#クラスの設計)
			- [4.1 アクターシステムのクラス図](#41-アクターシステムのクラス図)
			- [4.2 シーン管理システム](#42-シーン管理システム)
			- [4.3 プレイヤー操作とステートマシン](#43-プレイヤー操作とステートマシン)
			- [4.4 拡張性の高いUI](#44-拡張性の高いui)
			- [4.5 ハッシュ値計算](#45-ハッシュ値計算)
			- [4.6 衝突判定](#46-衝突判定)
			- [4.7 Unityのエディタ拡張](#47-unityのエディタ拡張)
	- [5.まとめ](#5まとめ)

# 1.作品概要
- タイトル
	- おばけキッチン
- 学校
	- 河原電子ビジネス専門学校
- 制作人数
	- 1人
- 製作期間
	- 2025年9月~2025年12月(4ヵ月)
- ゲームジャンル
	- 協力型クッキングゲーム
- プレイ人数
	- 1~4人
- 対応ハード
	- PC (Windows 11)
	- Xbox コントローラー
- 使用言語
	- C++
	- C#
- 開発環境
	- エンジン
		- 学校内製エンジン(DirectX12)
	- プログラム
		- Visual Studio 2022
	- ３Dモデル
		- 3ds MAX
	- エフェクト
		- Effeckseer
	- 画像
		- Adobe Photoshop
	- バージョン管理
		- Git Hub
	- タスク管理
		- Notion
	- 配置ツール
		- Unity
- GitHubURL
	-  <a href="https://github.com/shimooka-minami/ObakeKitchen" target="_blank">https://github.com/shimooka-minami/ObakeKitchen</a>

---
# 2.ゲーム内容
１人から最大４人で遊べるわちゃわちゃ協力クッキングゲーム。<br>
たくさん来る注文された料理を完成させよう！<br>
お邪魔してくるいじわるなおばけもいるよ👻<br>

画像

---
## 3.操作説明

- Aボタン：拾う・置く
- Bボタン：走る
- Xボタン：投げる・切る
- 左スティック：移動

![alt text](sousa.png)
---
## 4.実装したもの

### クラスの設計
 ゲーム内のあらゆるオブジェクトを管理しやすくするために、しっかりとルールを決めた継承を構築しています。<br>
 これによって、共通処理(描画、座標変更、衝突判定など)のコードの重複をさせず、新しいギミックやUIの追加を簡単にしています。
#### 4.1 アクターシステムのクラス図
 ゲーム内の動的オブジェクトはすべてActorクラスを基底としています。<br>

 Actor：位置情報(Transform)や当たり判定(Collider)を持つ基底クラス<br>
 Character：ステートマシンを持ち、移動やアクションを行う動的な存在<br>
 Gimmick：プレイヤーが動かすこと(Interact)可能な固定オブジェクトたち<br>

 ![alt text](sekkei1.png)

#### 4.2 シーン管理システム
 IScene(基底クラス)に各ゲーム画面(タイトル、ゲーム、リザルト)のインターフェースを実装しており、SceneMangerによってまとめて動きを管理しています。<br>

![alt text](sekkei2.png)

#### 4.3 プレイヤー操作とステートマシン
 プレイヤー操作を「コントローラー入力・AIの行動」と「アクションの実行」を分けています。<br>
 PlayerControllerもしくはNPCControllerが入力を取得し、共通のStateMachineがそれぞれの行動を受け取って状態の遷移を行います。<br>
 これによって、プレイヤーとNPC(AI)が同じように動くようにしました。<br>

⭐AIの実装時にキャラクター自体の行動を変更する必要がなくなる
　　<br>→デバックや拡張がしやすくなった！

実装：PlayerStateを通して、待機・歩き・走る・料理などの状態をクラス化し、自由に切り替えができます。

#### 4.4 拡張性の高いUI
 UI要素もゲームオブジェクトと同様にUIBaseを基底とした継承を行っています。<br>
 これにより、UIアニメーションやUI表示の制御を管理しています。<br>
 また、UIを描くための下敷きとしてキャンバスを作成しています。<br>
 キャンバスを移動すると関連するUIも一緒に移動するため、アニメーションなどの演出面ですべてのUIにそれぞれ処理を追加する必要がなくなります。<br>
 
 ⭐キャンバスのみの適用で簡単にUIが追加できる！

UIInteractIcon：プレイヤーがギミックに近づいたときに表示されるアイコン<br>
UIScore / UITimer：ゲームの進行状況を反映するUI<br>
Canvas：UI作成時の下敷き。Canvas内での位置変更等もできる<br>

![alt text](sekki3.png)
#### 4.5 ハッシュ値計算
 文字列比較(ファイルパスやIDの検索など)に付随する余分な処理を減らすために、コンパイル時や実行時に文字列をハッシュ値に変換しています。<br>
 文字列比較を整数比較に置き換えることで、パフォーマンスを向上させることができます。<br>

#### 4.6 衝突判定
 ColliderとCollisionManagerにより、物理的な動きを管理しています。<br>
 GhostBody：物理的な判定はないが、透明な判定のみを検知します。<br>
   →例)キッチンのまな板の前に立つと「食材を切る」判定を行う

#### 4.7 Unityのエディタ拡張
 Unityエディタをステージの配置ツールとして使っています。<br>
 Unity上でオブジェクトを配置したり、ゴーストインタラクト判定の設定を行い、その内容をJsonファイルで書き出しています。<br>
 書き出したJsonファイルを内製エンジンに読み込むことで、Unityで配置した見た目通りのステージがそのままゲーム内に表示されます。<br>
 
⭐Unity内で画面を見ながら直感的にステージが作れる！<br>
![alt text](scene.png)

---
## 5.まとめ
 今回の制作では、ゲームとして動くことだけでなく 「保守性」　「拡張性」　「パフォーマンスの向上」の3つに重点を置き、実践の場として開発しました。<br>
 オブジェクト指向設計を意識し、機能の追加(新しい調理器具やステージの追加など)にも対応できるようにしています。<br>
 ![alt text](beybey.png)